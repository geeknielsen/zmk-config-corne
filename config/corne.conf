# ------------------------------------------------------------------------------
# ZMK CONFIGURATION FOR CORNE WITH NICE!NANO + RGB LIGHTING
# ------------------------------------------------------------------------------

# Keyboard name
CONFIG_ZMK_KEYBOARD_NAME="Corne RGB"

# ------------------------------------------------------------------------------
# RGB UNDERGLOW / PER-KEY LED SUPPORT
# ------------------------------------------------------------------------------

# Enable RGB underglow and WS2812 LED strip driver
CONFIG_ZMK_RGB_UNDERGLOW=y
CONFIG_WS2812_STRIP=y

# Start underglow automatically on power-up
CONFIG_ZMK_RGB_UNDERGLOW_ON_START=y

# Default lighting settings
CONFIG_ZMK_RGB_UNDERGLOW_HUE_START=65        # Starting color hue
CONFIG_ZMK_RGB_UNDERGLOW_SPD_START=1         # Animation speed
CONFIG_ZMK_RGB_UNDERGLOW_EFF_START=1         # 1 = solid, can change with bindings
CONFIG_ZMK_RGB_UNDERGLOW_BRT_START=50        # Brightness (0-100)
CONFIG_ZMK_RGB_UNDERGLOW_EXT_POWER=n         # Disable external power dependency

# Optional: uncomment if you want rainbow animation
# CONFIG_ZMK_RGB_UNDERGLOW_EFFECT_RAINBOW=y

# ------------------------------------------------------------------------------
# OLED DISPLAY
# ------------------------------------------------------------------------------

CONFIG_ZMK_DISPLAY=y

# ------------------------------------------------------------------------------
# POWER MANAGEMENT
# ------------------------------------------------------------------------------

CONFIG_ZMK_SLEEP=y
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=1800000  # 30 minutes in ms
CONFIG_ZMK_PM_SOFT_OFF=y

# ------------------------------------------------------------------------------
# BLUETOOTH & SPLIT SETTINGS
# ------------------------------------------------------------------------------

CONFIG_BT_CTLR_TX_PWR_PLUS_8=y                      # Stronger BT signal
CONFIG_ZMK_BLE_EXPERIMENTAL_CONN=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_FETCHING=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_PROXY=y

# ------------------------------------------------------------------------------
# INPUT / BEHAVIORS
# ------------------------------------------------------------------------------

# Enable NKRO (optional)
# CONFIG_ZMK_HID_REPORT_TYPE_NKRO=y

# Mouse key support
CONFIG_ZMK_MOUSE=y

# Disable WPM counter widget (saves power)
# CONFIG_ZMK_WIDGET_WPM_STATUS=n
# CONFIG_ZMK_WPM=n
# CONFIG_ZMK_WIDGET_BATTERY_STATUS_SHOW_PERCENTAGE=y

# ------------------------------------------------------------------------------
# NOTES:
# - Make sure your `config/corne.overlay` defines LED pin and count:
#   e.g. chain-length = <54>; data-gpios = <&gpio0 6 (GPIO_ACTIVE_HIGH)>;
# - Use BL_TOG / BL_INC / BL_DEC in your keymap to control brightness.
# ------------------------------------------------------------------------------

